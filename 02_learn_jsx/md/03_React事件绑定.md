# React 事件绑定

- 如果原生 DOM 原生有一个监听事件,我们可以如何操作喃

  - 方式一: 获取 DOM 原生,添加监听事件
  - 方式二: 在 HTML 原生中,直接绑定 onclick

- 在 React 中如何操作喃
  - 我们来实现一下 React 中的事件监听,这里主要有两点不同
    - React 事件的命名采用小驼峰式,而不是纯小写
  - 我们需要通过{}传入一个事件处理函数,这个函数会在事件发生时被执行

# this 的绑定问题

- 在事件执行后,我们可能需要获取当前类的对象中相关的属性,这个时候需要用到 this

  - 如果我们这里直接打印 this,也会发现它是一个 undefined

- 为什么是 undefined 喃

  - 原因是 btnClick 函数并不是我们主动调用的,而是当 button 发生改变时,React 内部调用了 bntClick 函数
  - 而它内部调用时,而不知道要如何绑定正确的 this

- 如何解决 this 的问题

- 方案一: bind 给 btnClick 显示绑定 this

- 方案二: 使用 ES6 class fields 语法

- 方案三: 事件监听时传入箭头函数(推荐)

- 比如当一个按钮发生了点击,React 内部就会执行 onCLick 中函数,通过 onClick.call(undefined,event)
  - 就会把 this 改为了 undefined,event 就会把 event 作为参数传给绑定的函数
  - 那为什么使用 bind 就会改变 this 喃
  - 因为 bind 的优先级是比 call 大的,所以同时存在 call 和 bind,call 是不会生效的
  - 如何 onClick 传入的是一个箭头函数(方案三),那么当按钮发生点击的时候,就会执行箭头函数(假如这个箭头函数叫 aaa) = aaa.call(undefined,event)
  - 你这个箭头函数再 call 都没有用,因为箭头函数是不绑定任何 this 的

# 事件参数传递

- 在执行事件函数时,有可能我们需要获取一些参数信息: 比如 event 对象,其他参数

- 情况一: 获取 event 对象

  - 很多时候我们需要拿到 event 对象来做一些事情(比如阻止默认行为)
  - 假如我们用不到 this,那么直接传入函数就可以获取 event 对象

- 情况二: 获取更多参数
  - 有更多参数时,我们最好的方式就是传入一个箭头函数,主动执行的事件函数,并且传入相关的其他参数

# React 条件渲染

- 某些情况下,界面的内容会根据不同的情况显示不同的内容,或者决定是否渲染某部分内容

  - 在 vue 中,我们会通过指令来控制:比如 v-if,v-show
  - 在 React 中,所有的条件判断都和普通的 JavaScript 代码一致

- 常见的条件渲染的方式有哪些喃

- 方式一: 条件判断语句

  - 适合逻辑较多的情况

- 方式二:三目运算符

- 方式三:逻辑运算符&&

# React 列表渲染

- 真实开发中我们从服务器请求到大量的数据,数据会以列表的形式存储

  - 比如歌曲,歌手,排行榜列表的数据
  - 比如商品,购物车,评论列表的数据
  - 比如好友消息,动态,联系人列表的数据

- 在 React 中并没有像 Vue 模块语法中的 v-for 指令,而且需要我们通过 JavaScript 代码的方式组织数据,转为 JSX

  - 很多从 Vue 转型到 React 的同学非常不习惯,认为 Vue 的方式更加简洁明了
  - 另外 React 中的 JSX 正是因为 JavaScript 无缝的衔接,让它可以更加的灵活
  - 另外我觉得 React 是真正可以提高 JavaScript 代码编写的能力的

- 如何展示列表

  - 在 React 中,展示列表最多的方式就是使用数组的 map 高阶函数

- 很多时候我们在展示一个数组中的数据之前,需要先它进行一些处理
  - 比如过滤掉一些内容:filter 函数
  - 比如截取数组中的一部分内容:slice 函数

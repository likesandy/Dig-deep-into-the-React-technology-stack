# 如何使用 ref

- 在 React 的开发模式中,通常情况下不需要,也不建议直接操作 DOM 元素,但是某些特殊的情况,确实需要获取 DOM 进行某些操作

  - 管理焦点,文本选择或媒体播放
  - 触发强制动画
  - 集成第三方 DOM 库

- 如何创建 refs 来获取对应的 DOM 喃?目前有三种方式
- 方式一: 传入字符串

  - 使用时通过 this.refs 传入的字符串格式获取对应的元素

- 方式二:传入一个对象

  - 对象是通过 React.createRef()方式创建出来的
  - 使用时获取到创建的对象其中有一个 current 属性就是对应的元素

- 方式三:传入一个函数
  - 该函数会在 DOM 被挂载时进行回调,这个函数会传入一个元素对象,我们可以自己保持
  - 使用时,直接拿到之前保持的元素对象即可

# ref 的类型

- ref 的值根据节点的类型而有所不同

  - 当 ref 属性用于 HTML 元素时,构造函数中使用 React.createRef()创建的 1ref 接收底层 DOM 元素作为其 current 属性
  - 当 ref 属性用于自定义 class 组件时,ref 对象接收组件的挂载实例作为其 current 属性
  - 不能在函数组件上使用 ref 属性,因为他们没有实例

- 函数式组件是没有实例的,所以无法通过 ref 获取它们的实例
  - 但是某些时候,我们可能想要获取函数式组件中的某个 DOM 元素
  - 这个时候我们可以通过 React.forwardRef,后面也会学习 hooks 中如何使用 ref
